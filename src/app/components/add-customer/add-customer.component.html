<div *ngIf="!successView">
  <h2>
    <fa-icon [icon]="addUserIcon" class="nav-link-icon"></fa-icon> Add New
    Customer
  </h2>
  <form (ngSubmit)="onSubmit()" #addUserForm="ngForm" class="border-styling">
    <div class="form-group">
      <label>*First Name:</label>
      <input
        type="text"
        class="form-control form-input"
        placeholder="First name"
        name="fName"
        maxlength="50"
        #fName="ngModel"
        [(ngModel)]="firstName"
        required
      />
      <small *ngIf="fName.invalid && fName.touched" class="invalid-message"
        >First name is required</small
      >
    </div>
    <div class="form-group">
      <label>Last Name:</label>
      <input
        type="text"
        class="form-control form-input"
        placeholder="Last name"
        name="lName"
        maxlength="50"
        #lName="ngModel"
        [(ngModel)]="lastName"
        required
      />
      <small *ngIf="lName.invalid && lName.touched" class="invalid-message"
        >Last name is required</small
      >
    </div>
    <div class="form-group">
      <label>Address:</label>
      <input
        type="text"
        class="form-control form-input"
        placeholder="Address"
        name="address"
        maxlength="50"
        #address="ngModel"
        [(ngModel)]="formAddress"
        required
      />
      <small *ngIf="address.invalid && address.touched" class="invalid-message"
        >Address is required</small
      >
    </div>
    <div class="form-group age">
      <label>Age:</label>
      <input
        type="number"
        class="form-control form-input"
        placeholder="Age"
        name="age"
        #age="ngModel"
        [(ngModel)]="formAge"
        maxlength="3"
        oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
        required
      />
      <small *ngIf="age.invalid && age.touched" class="invalid-message"
        >Age is required</small
      >
    </div>
    <div class="form-group">
      <label>Allergies:</label>
      <div class="check-boxes">
        <div *ngFor="let allergy of allergies" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="{{ allergy.name }}"
            (change)="onAllergyChange(allergy)"
            [(ngModel)]="allergy.isSelected"
          />
          <label class="form-check-label">
            {{ allergy.name }}
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Conditions:</label>
      <small>Select all relevant options</small>
      <div class="check-boxes">
        <div *ngFor="let condition of conditions" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="condition"
            value="{{ condition }}"
            ngModel
          />
          <label class="form-check-label">
            {{ condition }}
          </label>
        </div>
      </div>
    </div>
    <button
      [ngClass]="{
        'form-button': addUserForm.valid,
        'disabled-button': !addUserForm.valid
      }"
      type="submit"
      [disabled]="!addUserForm.valid"
    >
      Submit
    </button>
    <button
      [ngClass]="{
        'form-cancel-button': addUserForm.touched,
        'disabled-button': !addUserForm.touched
      }"
      (click)="onClearClick()"
      [disabled]="!addUserForm.touched"
    >
      Clear
    </button>
  </form>
</div>
<div *ngIf="successView" class="border-styling">
  <p>User successfully added!</p>
  <button class="form-button" (click)="onBackClick()">Back</button>
</div>
